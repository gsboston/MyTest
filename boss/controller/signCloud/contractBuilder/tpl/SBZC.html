<style>
    #sbzc.root-content{
        background-color: #f6f6f6;
    }
    #sbzc.root-content > div{
        position: relative;
        width: 920px;
        margin: 0 auto;
        background-color: white;
    }
    #sbzc > .sbzc-content {
        padding: 20px 65px 40px 15px;
    }
    #sbzc .part-title{
        font-size: 18px;
        padding-left: 40px;
        padding-bottom: 20px;
        color: #59b399;
    }
    #sbzc .sbzc-content .ivu-form-item-error-tip{
        padding-top: 3px;
        font-size: 12px !important;
    }
    #sbzcPlan .ivu-form-item-error-tip{
        padding-top: 3px;
        font-size: 12px !important;
        margin-top: -10px;
    }
    #sbzc .part-content{
        padding-left: 40px;
        padding-right: 20px;
    }
    #sbzc .part-content *{
        font-size: 14px!important;
    }
    #sbzc .text-item{
        padding: 0px;
    }
    #sbzc .text-input{
        position: relative;
        top: -10px;
        width: 100px;
    }
    #sbzc .text-input input{
        border-top: none;
        border-left: none;
        border-right: none;
        text-align: center;
        height: 30px;
        font-size: 14px;
    }
    #sbzc .serviceList{
        background: #dfeffc;
        padding: 10px 20px;
        border: 1px solid #dddee1;
    }
    #sbzc .ivu-input,.ivu-select-selection{
        border-radius: 0;
    }
    #sbzc .last-row{
        margin-left: 40px;
        padding-top: 28px;
    }
    #sbzc .last-row .text-item{
        font-size: 18px;
        font-weight: bold;
    }
    #sbzc .text-item-symbol{
        font-size: 16px !important;
        position: relative;
        top: 1px;
        font-weight:bold;
    }
    #sbzc .trademark-info{
        margin-left: 20px;
    }
    #sbzc .trademark-info > div:first-child{
        margin-top: 10px;
    }
    #sbzc .form-item-height{
        margin-left: 20px;
    }
    #sbzc .form-item-height > div{
        width: 260px;
        margin-left: 20px;
    }
    #sbzc .form-item-height > label{
        font-size: 14px;
    }
    #sbzc .text-row{
        display: inline-flex;
    }
    #sbzc .save-button{
        width: 129px;
        height: 39px;
        border: 1px solid #59b399;
        color: #59b399;
        border-radius: 5px;
    }
    #sbzc .audit-button{
        width: 129px;
        height: 39px;
        background-color: #59b399;
        border: 1px solid #59b399;
        border-radius: 5px;
    }
    #sbzc .sbzc-content .ivu-form .ivu-form-item-label {
        text-align: justify;
        text-align-last: justify;
        vertical-align: middle;
        float: left;
        color: rgb(51,51,51);
        line-height: 1;
        padding: 10px 20px 10px 0;
        box-sizing: border-box;
    }
    #sbzc .sbzc-content .ivu-form-item {
        margin-bottom: 15px;
        vertical-align: top;
        zoom: 1;
    }
    #sbzc .sbzc-content .ivu-select-arrow {
        position: absolute;
        top: 50%;
        right: 15px;
        line-height: 1;
        margin-top: -7px;
        font-size: 14px;
        color: #80848f;
        transition: all .2s ease-in-out;
    }
    #sbzc .sbzc-content .ivu-checkbox {
        display: inline-block;
        vertical-align: middle;
        white-space: nowrap;
        cursor: pointer;
        outline: 0;
        line-height: 1;
        position: relative;
        padding-right: 10px;
    }
    #sbzc .serviceList {
        background: white;
        padding: 0;
        border: none;
        width: 97%;
        margin-left: 3%;
    }
    #sbzc .serviceListItem {
        margin-right: 80px;
    }
    #sbzc .sbzc-content .ivu-radio {
        display: inline-block;
        margin-right: 12px;
        white-space: nowrap;
        outline: 0;
        position: relative;
        line-height: 1;
        vertical-align: middle;
        cursor: pointer;
    }
    #sbzc hr{
        margin-top: 20px;
        background-color: #e5e5e5;
        height: 1px;
        border: none;
    }
    #sbzc .form-input{
        width: 260px;
    }
    #sbzc .form-input-name{
        width: 110px;
    }
    #sbzc .form-input-tel{
        width: 140px;
    }
    #sbzc .form-input-price > input{
        font-size: 30px;
        color: #ff5a5a;
    }
    #sbzc .form-input-tradeMark-price > input{
        font-size: 26px !important;
    }
    #sbzc .form-input-tradeMark-single-price > input{
        border-top: none;
        border-left: none;
        border-right: none;
        text-align: center;
        position: relative;
        width: 230px;
        font-size: 16px !important;
        height: 25px;
        text-align: left;
    }
    #sbzc .tradeMark-list {
        width: 100%;
        height: 100px;
        background-color: #fcfcfc;
        border:1px solid #fcfcfc;
    }
    #sbzc .tradeMark-list.selected {
        border:1px solid #59b399;
    }
    #sbzc .tradeMark-close {
        width: 0;
        height: 0;
        border-top: 25px solid #e5e5e5;
        border-left: 25px solid transparent;
        float: right;
    }
    #sbzc .tradeMark-close > i {
        color: #a9a9a9;
        position: absolute;
        right: 5px;
        top: 1px;
        cursor: pointer;
        font-size: 12px !important;
    }
    #sbzc .tradeMark-button-add{
        width: 262px;
        height: 40px;
        color: white;
        border: 1px solid #59b399;
        border-radius: 5px;
    }
    #sbzc .tradeMark-button-save{
        width: 130px;
        height: 40px;
        color: white;
        border: 1px solid #59b399;
        border-radius: 5px;
    }
    #sbzc .tradeMark-button-cancel{
        width: 130px;
        height: 40px;
        background-color: white;
        border: 1px solid #59b399;
        color: #59b399;
        border-radius: 5px;
        margin-left: 19px

    }
    #sbzc .ivu-input[disabled], fieldset[disabled] .ivu-input {
        background-color: #f3f3f3;
        opacity: 1;
        cursor: not-allowed;
        color: #333;
    }
    #sbzc .ivu-select-disabled .ivu-select-selection {
         background-color: #f3f3f3;
         opacity: 1;
         cursor: not-allowed;
         color: #333;
     }
    #sbzc .autoInput .ivu-auto-complete .ivu-select-dropdown{
        max-height: 200px!important;
    }
    #sbzc .ivu-tooltip-inner {
        max-width: 250px;
        min-height: 34px;
        padding: 8px 12px;
        color: #fff;
        text-align: left;
        text-decoration: none;
        background-color: rgba(70,76,91,.9);
        border-radius: 4px;
        box-shadow: 0 1px 6px rgba(0,0,0,.2);
        white-space: normal;
    }
</style>
<div @click="cancelSelected" id="sbzc" class="root-content">
    <div class="sbzc-content">
        <i-form :model="mainInfo" :label-width="90" :rules="ruleForm" ref="formRef">
            <Row>
                <i-col span="12" :style="{'background':1== selectedArea ?'#f6faf9' :''}">
                    <div class="part-title">甲方基本信息</div>
                    <div class="part-content" @mousedown ="selectArea(1)">
                        <Form-item label="类型" prop="type" >
                            <div @click.stop="stopBubbling">
                                <radio-group v-model="mainInfo.cSList[0].type" @on-change="changeCsType">
                                    <Radio label="COMPANY"  :disabled="!isEditable">企业</Radio>
                                    <Radio label="PERSON"  :disabled="!isEditable">自然人</Radio>
                                </radio-group>
                            </div>
                        </Form-item>
                        <Form-item :label="mainInfo.cSList[0].type=='COMPANY'?'公司名称':'姓名'" prop="cSList[0].name" class="autoInput">
                            <Tooltip :disabled="!mainInfo.cSList[0].name" :content="mainInfo.cSList[0].name" class="tips" placement="bottom">
                                <auto-comp ref="autoName" :disabled="!isEditable" class="form-input" v-model="mainInfo.cSList[0].name"  @on-search="searchCustomerByName" @on-select="selectCustomer">
                                    <i-option v-for="item in customerList" :value="item.name" :key="item.id">{{item.name}}</i-option>
                                </auto-comp>
                            </Tooltip>
                        </Form-item>
                        <Form-item label="证件号码" prop="cSList[0].idno" class="autoInput">
                            <Tooltip :disabled="!mainInfo.cSList[0].idno" :content="mainInfo.cSList[0].idno" class="tips" placement="bottom">
                                <auto-comp :maxlength="25" ref="autoNO" :disabled="!isEditable" class="form-input" :placeholder="mainInfo.cSList[0].type=='COMPANY'?'税务登记证号/统一信用代码':'身份证号'"
                                           class="form-input" v-model="mainInfo.cSList[0].idno"  @on-search="searchCustomerByNo" @on-select="selectCustomerNo">
                                    <i-option v-for="item in customerListNo" :value="item.IDNumber" :key="item.id">{{item.IDNumber}}</i-option>
                                </auto-comp>
                            </Tooltip>
                        </Form-item>
                        <Row>
                            <i-col span="13">
                                <Form-item label="联系人" prop="cSList[0].contactName">
                                    <Tooltip :disabled="!mainInfo.cSList[0].contactName" :content="mainInfo.cSList[0].contactName" class="tips" placement="bottom">
                                        <i-input class="form-input-name" v-model="mainInfo.cSList[0].contactName" :maxlength="20" placeholder="联系人姓名" :disabled="!isEditable"></i-input>
                                    </Tooltip>
                                </Form-item>
                            </i-col>
                            <i-col span="10" offset="1">
                                <Form-item :label-width='1' prop="cSList[0].contactPhone">
                                    <Tooltip :disabled="!mainInfo.cSList[0].contactPhone" :content="mainInfo.cSList[0].contactPhone" class="tips" placement="bottom">
                                        <i-input class="form-input-tel" v-model="mainInfo.cSList[0].contactPhone" :maxlength="17" placeholder="联系电话" :disabled="!isEditable"></i-input>
                                    </Tooltip>
                                </Form-item>
                            </i-col>
                        </Row>
                        <Form-item label="电子邮箱" prop="cSList[0].email">
                            <Tooltip :disabled="!mainInfo.cSList[0].email" :content="mainInfo.cSList[0].email" class="tips" placement="bottom">
                                <i-input class="form-input" v-model="mainInfo.cSList[0].email" :maxlength="50" placeholder="电子邮箱" :disabled="!isEditable"></i-input>
                            </Tooltip>
                        </Form-item>
                        <Form-item label="联系地址" prop="cSList[0].address">
                            <Tooltip :disabled="!mainInfo.cSList[0].address" :content="mainInfo.cSList[0].address" class="tips" placement="bottom">
                                <i-input class="form-input" v-model="mainInfo.cSList[0].address" :maxlength="100" placeholder="联系地址" :disabled="!isEditable"></i-input>
                            </Tooltip>
                        </Form-item>
                    </div>
                </i-col>
                <i-col span="12" :style="{'background':2== selectedArea ?'#f6faf9' :''}">
                    <div class="part-title">乙方基本信息</div>
                    <div class="part-content" @mousedown ="selectArea(2)">
                        <Form-item label="企业名称" prop="cSList[1].name">
                            <Tooltip :disabled="!mainInfo.cSList[1].name" :content="mainInfo.cSList[1].name" class="tips" placement="bottom">
                                <i-input v-if="!isEditable" disabled class="form-input" v-model="mainInfo.cSList[1].name"></i-input>
                                <i-select v-if="isEditable"  class="form-input" @on-change="selectInfo" v-model="mainInfo.cSList[1].name">
                                    <i-option v-for="item in companyList" :value="item.name" :key="item.name" >{{ item.name }}</i-option>
                                </i-select>
                            </Tooltip>
                        </Form-item>
                        <Form-item label="开户银行">
                            <Tooltip :disabled="!mainInfo.cSList[1].bankName" :content="mainInfo.cSList[1].bankName" class="tips" placement="bottom">
                                <i-input class="form-input" v-model="mainInfo.cSList[1].bankName" placeholder="开户银行" disabled></i-input>
                            </Tooltip>
                        </Form-item>
                        <Form-item label="银行账号">
                            <Tooltip :disabled="!mainInfo.cSList[1].bankAccount" :content="mainInfo.cSList[1].bankAccount" class="tips" placement="bottom">
                                <i-input class="form-input" v-model="mainInfo.cSList[1].bankAccount" placeholder="银行账号" disabled></i-input>
                            </Tooltip>
                        </Form-item>
                        <Row>
                            <i-col span="13">
                                <Form-item label="联系人" prop="cSList[1].contactName">
                                    <Tooltip :disabled="!mainInfo.cSList[1].contactName" :content="mainInfo.cSList[1].contactName" class="tips" placement="bottom">
                                        <i-input class="form-input-name" v-model="mainInfo.cSList[1].contactName"  :maxlength="20" placeholder="联系人姓名" :disabled="!isEditable"></i-input>
                                    </Tooltip>
                                </Form-item>
                            </i-col>
                            <i-col span="10" offset="1">
                                <Form-item :label-width="1" prop="cSList[1].contactPhone">
                                    <Tooltip :disabled="!mainInfo.cSList[1].contactPhone" :content="mainInfo.cSList[1].contactPhone" class="tips" placement="bottom">
                                        <i-input class="form-input-tel" v-model="mainInfo.cSList[1].contactPhone" :maxlength="11" placeholder="联系电话" :disabled="!isEditable"></i-input>
                                    </Tooltip>
                                </Form-item>
                            </i-col>
                        </Row>
                        </Form-item>
                        <Form-item label="电子邮箱">
                            <Tooltip :disabled="!mainInfo.cSList[1].email" :content="mainInfo.cSList[1].email" class="tips" placement="bottom">
                                <i-input class="form-input" v-model="mainInfo.cSList[1].email" placeholder="电子邮箱" disabled></i-input>
                            </Tooltip>
                        </Form-item>
                        <Form-item label="联系地址">
                            <Tooltip :disabled="!mainInfo.cSList[1].address" :content="mainInfo.cSList[1].address" class="tips" placement="bottom">
                                <i-input class="form-input" v-model="mainInfo.cSList[1].address" placeholder="联系地址" disabled></i-input>
                            </Tooltip>
                        </Form-item>
                    </div>
                </i-col>
            </Row>
            <hr />
            <Row style="margin-top: 40px;">
                <div class="part-title">甲方所办理的业务内容</div>
                <div style="outline: none">
                    <i-col span="12">
                        <div class="part-content">
                            <Row>
                                <i-col :style="{height: this.tradeMarkHeight}">
                                    <div @click.stop="stopBubbling" v-if="selectedTrademarks.length && selectedTrademarks.length>0" style="overflow-y: auto;height: 440px">
                                        <div v-for="(trademark,index) in selectedTrademarks" class="tradeMark-list" :class="{selected: trademark == selectedTradeMark}" @click="selectTradeMark(trademark)">
                                            <i-col span="22">
                                                <div style="margin-top: 20px;margin-left: 20px">
                                                    <div style="display: inline-block">
                                                        <span style="color: #333;margin-right: 10px">{{trademark.tradeMarkName | tradeMarkNameLimit}}</span>
                                                    </div>
                                                    <div style="width: 40px;background-color: #e0e0e0;display: inline-block;border-radius: 5px">
                                                        <span style="margin-left: 6px">{{trademark.businessTypeItem.businessTypeName | businessTypeNameLimit}}</span>
                                                    </div>
                                                    <div style="display: inline-block;float: right">
                                                        <span>{{trademark.singlePrice}}</span>
                                                    </div>
                                                </div>
                                                <div style="margin-top: 18px;margin-left: 20px;color: #666">
                                                    <div style="display: inline-block">
                                                        <span>{{trademark.trademarkTypeItem.trademarkTypeName}}</span>
                                                    </div>
                                                    <div style="display: inline-block;width: 2px;height: 12px;background: #e5e5e5;margin-left: 12px;margin-right: 12px">
                                                    </div>
                                                    <div style="display: inline-block">
                                                        <span :title="trademark.selectedTrademarkName">{{trademark.selectedTrademarkName | selectedTrademarkNameLimit}}</span>
                                                    </div>
                                                </div>
                                            </i-col>
                                            <i-col span="2" v-if="isEditable">
                                                <div class="tradeMark-close" @click.stop="minusTradeMark(trademark)" >
                                                    <Icon type="close"></Icon>
                                                </div>
                                            </i-col>
                                        </div>
                                    </div>
                                    <div v-if="!selectedTrademarks || selectedTrademarks.length==0" style="width: 384px;height: 440px;text-align: center">
                                        <div style="padding-top: 150px">
                                            <img src="/static/noMessage.png"/>
                                        </div>
                                        <div>
                                            <span style="font-size: 16px !important;">您还没有待办业务，点击右侧添加吧~</span>
                                        </div>
                                    </div>
                                    <Row style="margin-top: 35px">
                                        <div style="display: inline-flex;float: right">
                                            <div style="font-weight: bold;font-size: 16px !important;">费用共计</div>
                                            <div>
                                                <span class="text-item-symbol">￥</span>
                                            </div>
                                            <Form-item :label-width="1">
                                                <i-input class="text-input form-input-tradeMark-price" style="width: 200px" type="text" v-model="mainInfo.content.tradeMarkTotalPrice" readonly></i-input>
                                            </Form-item>
                                        </div>
                                    </Row>
                                </i-col>
                            </Row>
                        </div>
                    </i-col>
                    <i-col span="12" :style="{'background':3== selectedArea ?'#f6faf9' :''}">
                        <i-form :label-width="90" :model="tradeMarkInfo" :rules="tradeMarkRuleForm" ref="tradeMarkFormRef" class="trademark-info">
                            <div @mousedown ="selectArea(3)">
                                <Form-item label="商标名称" class="form-item-height" prop="tradeMarkName">
                                    <i-input v-model="tradeMarkInfo.tradeMarkName" :maxlength="30" placeholder="商标名称" @click.native="editForm" :disabled="!isEditable"></i-input>
                                </Form-item>
                                <Form-item label="商标类别" class="form-item-height" prop="trademarkType">
                                    <i-select v-model="tradeMarkInfo.trademarkType" placeholder="商标类别" @click.native="editForm" :disabled="!isEditable">
                                        <i-option v-for="trademarkType1 in this.trademarkTypeArray" :value="trademarkType1.key" :key="trademarkType1.key">{{trademarkType1.trademarkTypeName}}</i-option>
                                    </i-select>
                                </Form-item>
                                <Form-item label="业务类型" class="form-item-height" prop="businessType">
                                    <i-select v-model="tradeMarkInfo.businessType" @on-change="clearSelectedService" placeholder="业务类型" @click.native="editForm" :disabled="!isEditable">
                                        <i-option v-for="businessType1 in this.businessTypeArray" :value="businessType1.key" :key="businessType1.key">{{businessType1.businessTypeName}}</i-option>
                                    </i-select>
                                </Form-item>
                                <Form-item label="服务事项" class="form-item-height" prop="serviceItem">
                                    <div v-if="tradeMarkInfo.businessType=='1'" style="border: 1px solid #e0e0e0;" >
                                        <Checkbox-Group v-model="tradeMarkInfo.serviceItem" class="serviceList" :disabled="!isEditable">
                                            <Checkbox v-for="serviceItem in this.serviceItemArray1"  @click.native="editForm" :label="serviceItem.key"  :value="serviceItem.key" :key="serviceItem.key" :disabled="!isEditable">{{serviceItem.serviceItemName1}}</Checkbox>
                                        </Checkbox-Group>
                                    </div>
                                    <div v-if="tradeMarkInfo.businessType=='2'">
                                        <Checkbox-Group v-model="tradeMarkInfo.serviceItem" class="serviceList" style="width: 94%;margin-left: 3%" :disabled="!isEditable">
                                            <Checkbox v-for="serviceItem in this.serviceItemArray2" @click.native="editForm" :label="serviceItem.key" :value="serviceItem.key" :key="serviceItem.key" :disabled="!isEditable">{{serviceItem.serviceItemName2}}</Checkbox>
                                        </Checkbox-Group>
                                    </div>
                                    <div v-if="tradeMarkInfo.businessType=='3'">
                                        <Checkbox-Group v-model="tradeMarkInfo.serviceItem" class="serviceList" :disabled="!isEditable">
                                            <Checkbox v-for="serviceItem in this.serviceItemArray3" @click.native="editForm" :label="serviceItem.key" :value="serviceItem.key" :key="serviceItem.key" :title="serviceItem.title" :disabled="!isEditable">{{serviceItem.serviceItemName3}}</Checkbox>
                                        </Checkbox-Group>
                                    </div>
                                </Form-item>
                                <Form-item label="单项费用" class="form-item-height" prop="singlePrice">
                                    <div style="display: inline-flex">
                                        <div>
                                            <span class="text-item-symbol">￥</span>
                                        </div>
                                        <i-input :maxlength="6" class="form-input-tradeMark-single-price" type="text" @click.native="editForm" v-model="tradeMarkInfo.singlePrice" :disabled="!isEditable"></i-input>
                                        <div class="text-item">元</div>
                                    </div>
                                </Form-item>
                                <Form-item label="备注" class="form-item-height" prop="remark">
                                    <i-input :readonly='!isEditable'style="z-index: 5" :maxlength="100" v-model="tradeMarkInfo.remark" @click.native="editForm" type="textarea" :autosize="{minRows: 2,maxRows: 5}" placeholder="备注" :disabled="!isEditable"></i-input>
                                </Form-item>
                            </div>
                            <Form-item v-if="isEditable" style="margin-bottom: 5px">
                                <div v-if="this.selectedTradeMark==null" @click.stop="stopBubbling" style="display: inline-block">
                                    <i-button class="tradeMark-button-add" style="margin-left: 19px" type="primary" size="large" @click="addTradeMark" :disabled="!isEditable">添加</i-button>
                                </div>
                                <div v-if="this.selectedTradeMark" @click.stop="stopBubbling" style="display: inline-block">
                                    <i-button class="tradeMark-button-cancel" type="primary" size="large" @click="cancelTradeMark" :disabled="!isEditable">取消</i-button>
                                </div>
                                <div v-if="this.selectedTradeMark" @click.stop="stopBubbling" style="display: inline-block">
                                    <i-button class="tradeMark-button-save" type="primary" size="large" @click="saveTradeMark" :disabled="!isEditable">保存</i-button>
                                </div>
                            </Form-item>
                        </i-form>
                    </i-col>
                </div>
            </Row>
            <hr />
            <Row style="margin-top: 40px">
                <i-col span="24" :style="{'background':4== selectedArea ?'#f6faf9' :''}">
                    <div class="part-title">服务期限约定</div>
                    <div class="part-content" @mousedown ="selectArea(4)">
                        <Radio-Group v-model="mainInfo.periodType" :disabled="!isEditable">
                            <Row>
                                <Radio label="NONE">无明确服务周期</Radio>
                            </Row>
                            <br>
                        </Radio-Group>
                        <Row>
                            <div class="text-row">
                                <div class="text-item">合同生效之日起到《商标注册申请书》下发。</div>
                            </div>
                        </Row>
                    </div>
                </i-col>
            </Row>
            <hr />
            <Row id="sbzcPlan" style="margin-top: 40px">
                <i-col span="24" :style="{'background':5== selectedArea ?'#f6faf9' :''}">
                    <div class="part-title">甲方支付方案</div>
                    <div class="part-content" @mousedown ="selectArea(5)">
                        <Radio-Group v-model="mainInfo.paymentType">
                            <Row>
                                <Radio label="ONCE">一次性支付</Radio>
                            </Row>
                            <br>
                            <Row>
                                <div class="text-row">
                                    <div class="text-item">甲方于本合同生效后三日内将上述服务费一次性支付给乙方，乙方在收到全部服务费用后开始开展委托事项工作。</div>
                                </div>
                            </Row>
                            <br>
                        </Radio-Group>
                    </div>
                </i-col>
            </Row>
            <Row class="last-row" :style="{'background':6== selectedArea ?'#f6faf9' :''}">
                <div class="text-row" @mousedown ="selectArea(6)">
                    <div class="text-item">合约总额</div>
                    <div>
                        <span class="text-item-symbol">￥</span>
                    </div>
                    <Form-item style="margin-left: 30px;margin-right: 30px" :label-width="1" prop="price">
                        <i-input :maxlength="6" class="text-input form-input-price" style="width: 200px" type="text" v-model="mainInfo.price" :readonly='!isEditable'></i-input>
                    </Form-item>
                    <div class="text-item">元</div>
                </div>
            </Row>
            <div style="clear:both"></div>
        </i-form>
        <br>
    </div>
    <Row class="clearFix" style="text-align: center;padding-top: 20px;clear: both;background: #f6f6f6;" v-if="isEditable">
        <i-button type="ghost" size="large" class="save-button" @click="save">保存合同</i-button>
        <i-button type="primary" size="large" class="audit-button" @click="save('submit')">提交审核</i-button>
    </Row>
</div>
<script>
    new Vue({
        el: "#sbzc",
        data: {
            customerList:[],
            customerListNo:[],
            isEditable:true,
            imageFile:null,
            selectedArea:0,
            selectedTradeMark: null,
            companyList:[],
            op:"",
            isContractPerfect: false,
            mainInfo:{
                contractDefId:"910039970264145924",
                cSList:[{
                    type:'COMPANY',
                    subjectAlias :"A",
                    signedType :"SEAL"
                },{
                    type:'',
                    subjectAlias :"B",
                    signedType :"SEAL"
                }],
                cRList:[],
                paymentType:'ONCE',
                periodType:'NONE',
                content:{
                    tradeMarkTotalPrice:""
                },
            },
            selectedTrademarks:[],
            tradeMarkInfo: {
                tradeMarkName:"",
                trademarkType:"01",
                businessType:"1",
                serviceItem:[],
                singlePrice:"",
                remark:'',
//                leftTradeMarkHeight:0,
            },
            leftTradeMarkHeight:0,
            trademarkTypeArray: [
                {key:"01",trademarkTypeName:"第1类 化学原料"},
                {key:"02",trademarkTypeName:"第2类 颜料油漆"},
                {key:"03",trademarkTypeName:"第3类 日化用品"},
                {key:"04",trademarkTypeName:"第4类 燃料油脂"},
                {key:"05",trademarkTypeName:"第5类 医药"},
                {key:"06",trademarkTypeName:"第6类 金属材料"},
                {key:"07",trademarkTypeName:"第7类 机械设备"},
                {key:"08",trademarkTypeName:"第8类 手工器械"},
                {key:"09",trademarkTypeName:"第9类 科学仪器"},
                {key:"10",trademarkTypeName:"第10类 医疗器械"},
                {key:"11",trademarkTypeName:"第11类 灯具空调"},
                {key:"12",trademarkTypeName:"第12类 运输工具"},
                {key:"13",trademarkTypeName:"第13类 军火烟火"},
                {key:"14",trademarkTypeName:"第14类 珠宝钟表"},
                {key:"15",trademarkTypeName:"第15类 乐器"},
                {key:"16",trademarkTypeName:"第16类 办公用品"},
                {key:"17",trademarkTypeName:"第17类 橡胶制品"},
                {key:"18",trademarkTypeName:"第18类 皮革皮具"},
                {key:"19",trademarkTypeName:"第19类 建筑材料"},
                {key:"20",trademarkTypeName:"第20类 家具"},
                {key:"21",trademarkTypeName:"第21类 厨房洁具"},
                {key:"22",trademarkTypeName:"第22类 绳网袋篷"},
                {key:"23",trademarkTypeName:"第23类 纱线丝"},
                {key:"24",trademarkTypeName:"第24类 布料床单"},
                {key:"25",trademarkTypeName:"第25类 服装鞋帽"},
                {key:"26",trademarkTypeName:"第26类 纽扣拉链"},
                {key:"27",trademarkTypeName:"第27类 地毯席垫"},
                {key:"28",trademarkTypeName:"第28类 健身器材"},
                {key:"29",trademarkTypeName:"第29类 食品"},
                {key:"30",trademarkTypeName:"第30类 方便食品"},
                {key:"31",trademarkTypeName:"第31类 饲料种籽"},
                {key:"32",trademarkTypeName:"第32类 啤酒饮料"},
                {key:"33",trademarkTypeName:"第33类 酒"},
                {key:"34",trademarkTypeName:"第34类 烟草烟具"},
                {key:"35",trademarkTypeName:"第35类 广告销售"},
                {key:"36",trademarkTypeName:"第36类 金融物管"},
                {key:"37",trademarkTypeName:"第37类 建筑修理"},
                {key:"38",trademarkTypeName:"第38类 通讯服务"},
                {key:"39",trademarkTypeName:"第39类 运输贮藏"},
                {key:"40",trademarkTypeName:"第40类 材料加工"},
                {key:"41",trademarkTypeName:"第41类 教育娱乐"},
                {key:"42",trademarkTypeName:"第42类 网站服务"},
                {key:"43",trademarkTypeName:"第43类 餐饮住宿"},
                {key:"44",trademarkTypeName:"第44类 医疗园艺"},
                {key:"45",trademarkTypeName:"第45类 社会服务"},
            ],
            businessTypeArray: [
                {key:"1",businessTypeName:"普通申请类"},
                {key:"2",businessTypeName:"加急申请类"},
                {key:"3",businessTypeName:"担保申请类"}
            ],
            serviceItemArray1: [
                {key:"item11",serviceItemName1:"商标注册申请"},
                {key:"item12",serviceItemName1:"商标变更"},
                {key:"item13",serviceItemName1:"商标续展"},
                {key:"item14",serviceItemName1:"商标转让"},
                {key:"item15",serviceItemName1:"商标驳回复审"},
                {key:"item16",serviceItemName1:"商标异议"},
                {key:"item17",serviceItemName1:"商标无效宣告"},
                {key:"item18",serviceItemName1:"商标答辩"},
                {key:"item19",serviceItemName1:"撤销连续三年不使用注册商标申请"}
            ],
            serviceItemArray2: [
                {key:"item21",serviceItemName2:"商标加急注册申请"}
            ],
            serviceItemArray3: [
                {key:"item31",serviceItemName3:"商标加急担保注册申请",title:"（若甲方某类商标中所申报的商品均未通过，甲方可在以下两种方案中选择一项继续履行：一、在甲方将乙方开具的发票退还至乙方后，乙方返还甲方对该类商标注册申请所支付代理费用及官费；二、在甲方修改该未通过的商标后，乙方免费为甲方提供一次注册申请该商标的业务，甲乙双方另行签订委托协议。）"}
            ],
            tradeMarkRuleForm: {
                //甲方所办理的业务内容验证
                "tradeMarkName": [
                    { required: true, message: '商标名称不能为空' ,trigger:'blur'}
                ],
                "trademarkType": [
                    { required: true, message: '商标类型不能为空', trigger: 'change' }
                ],
                "businessType": [
                    { required: true, message: '业务类型不能为空', trigger: 'change' }
                ],
                "serviceItem": [
                    { required: true, type: 'array', min: 1, message: '至少选择一个服务事项', trigger: 'change' }
                ],
                "singlePrice": [
                    { required: true, message: '请填写正确的单项费用值' , trigger: 'blur' },
                    { pattern:  /^-?\d+(\.\d+)?$/ ,message:'请输入正确的价格'},
                    { pattern:  /^[0-9]+([.]{1}[0-9]{1,2})?$/ ,message:'请输入合理数字'}
                ],
            },
            ruleForm:{
                price: [
                    { required: true, message: '价格不能为空'},
                    { pattern:  /^-?\d+(\.\d+)?$/ ,message:'请输入正确的价格'},
                    { pattern:   /^[0-9]+([.]{1}[0-9]{1,2})?$/ ,message:'请输入合理数字'}
                ],
                "cSList[0].name": [
                    { required: true, message: '名称不能为空' }
                ],
                "cSList[0].idno": [
                    { required: true, message: '该项不能为空' },
                    { pattern:  /^[A-Za-z0-9]+$/ ,message:'只能是英文或者数字'}
                ],
                "cSList[0].email": [
                    { required: true, message: '邮箱不能为空' },
                    { pattern:  /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/ ,message:'请输入正确的邮箱格式'}
                ],
                "cSList[0].contactName": [
                    { required: true, message: '联系人不能为空' }
                ],
                "cSList[0].contactPhone": [
                    { required: true, message: '联系电话不能为空' }
                ],
                "cSList[0].address": [
                    { required: true, message: '地址不能为空' }
                ],
                "cSList[1].name": [
                    { required: true, message: '企业名不能为空' }
                ],
                "cSList[1].contactName": [
                    { required: true, message: '联系人不能为空' }
                ],
                "cSList[1].contactPhone": [
                    { required: true, message: '联系电话不能为空' }
                ]
            },
            formEditMode: false
        },
        filters: {
            tradeMarkNameLimit : function (value) {
                if(value && value.length > 10){
                    return value.substring(0,10) + "..." ;
                }
                return value;
            },
            businessTypeNameLimit : function (value) {
                if(value && value.length > 2){
                    return value.substring(0,2);
                }
                return value;
            },
            selectedTrademarkNameLimit : function (value) {
                if(value && value.length > 10){
                    return value.substring(0,10) + "..." ;
                }
                return value;
            }
        },
        computed: {
            tradeMarkHeight: {
                get: function() {
                    return this.leftTradeMarkHeight + "px";
                },
                set: function() {
                    if(this.selectedTrademarks.length == 0){
                        this.leftTradeMarkHeight = 120;
                    }else if (this.selectedTrademarks.length >=1 && this.selectedTrademarks.length <=3){
                        this.leftTradeMarkHeight = this.selectedTrademarks.length * 100 + 120;
                    }else{
                        this.leftTradeMarkHeight = 440;
                    }
                }
            }
        },
        methods: {
            init:function(param){

                if(param.isEditable == false){
                    this.isEditable = false;
                }
                if(param.defaultInfo){
                    this.mainInfo.cSList[0].type = param.defaultInfo.type;
                    this.mainInfo.cSList[0].name = param.defaultInfo.name;
                    this.mainInfo.cSList[0].idno = param.defaultInfo.idno;
                    this.mainInfo.cSList[0].contactName = param.defaultInfo.contactName;
                    this.mainInfo.cSList[0].contactPhone = param.defaultInfo.contactPhone;
                    this.mainInfo.cSList[0].email = param.defaultInfo.email;
                    this.mainInfo.cSList[0].address = param.defaultInfo.address;
                }
                if(param.contractId&&param.contractId>10000){
                    this.op = "";
                    this.loadData(param.contractId);
                }
                if(param.defId){
                    this.mainInfo.contractDefId = param.defId;
                }
                if(this.mainInfo.contractDefId){
                    this.loadCompanyList();
                }
                if(param.isContractPerfect){
                    this.isContractPerfect = param.isContractPerfect;
                }
            },
            clearSelectedService: function () {
                if(this.isEditable){
                    this.tradeMarkInfo.serviceItem.splice(0,this.tradeMarkInfo.serviceItem.length);
                }
            },
            cancelSelected : function () {
                if(this.formEditMode) {
                    this.formEditMode = false;
                }else{
                    if(this.selectedTradeMark != null){
                        this.$set(this,"selectedTradeMark",null);
                        this.$refs.tradeMarkFormRef.resetFields();
                    }
                }
            },
            //阻止冒泡
            stopBubbling: function () {
            },
            editForm () {
                this.formEditMode = true;
            },
            changeCsType:function(value){
                this.mainInfo.cSList[0].name='';
                this.mainInfo.cSList[0].idno='';
                this.mainInfo.cSList[0].email='';
                this.mainInfo.cSList[0].contactName='';
                this.mainInfo.cSList[0].contactPhone='';
                this.mainInfo.cSList[0].address='';
            },
            searchCustomerByNo:function(value){
                if(value.indexOf(' ')==-1){
                    this.request({
                        url: "/signCloud/contractBuilder/getCustomerList.do",
                        loading:false,
                        data:{
                            type:this.mainInfo.cSList[0].type,
                            name:'',
                            idno:value
                        }
                    }).then(data => {
                            this.customerListNo = data;
                            this.$refs.autoNO.toggleMenu(data&&data.length>0);
                    });
                }
            },
            selectCustomer:function(value){
                this.customerList.map(item=>{
                    if(item.name ==value){
                    this.mainInfo.cSList[0].idno=item.IDNumber;
                    this.mainInfo.cSList[0].email=item.email;
                    this.mainInfo.cSList[0].address=item.address;
                    this.mainInfo.cSList[0].contactName=item.linkmanName;
                    this.mainInfo.cSList[0].contactPhone=item.linkmanPhone;
                    this.$set(this.mainInfo.cSList,0,this.mainInfo.cSList[0]);
                }
            });
            },
            selectCustomerNo:function(value){
                this.customerListNo.map(item=>{
                    if(item.IDNumber ==value){
                    this.mainInfo.cSList[0].name=item.name;
                    this.mainInfo.cSList[0].email=item.email;
                    this.mainInfo.cSList[0].address=item.address;
                    this.mainInfo.cSList[0].contactName=item.linkmanName;
                    this.mainInfo.cSList[0].contactPhone=item.linkmanPhone;
                    this.$set(this.mainInfo.cSList,0,this.mainInfo.cSList[0]);
                }
            });
            },
            searchCustomerByName:function(value){
                if(value.indexOf(' ')==-1){
                    this.request({
                        url: "/signCloud/contractBuilder/getCustomerList.do",
                        loading:false,
                        data: {
                            type: this.mainInfo.cSList[0].type,
                            name: value,
                            idno: ''
                        }
                    }).then(data => {
                            this.customerList = data;
                            this.$refs.autoName.toggleMenu(data&&data.length>0);
                });
                }
            },
            selectArea:function (value) {
                this.selectedArea = value;
            },
            selectTradeMark:function (tradeMark) {
                this.$refs.tradeMarkFormRef.resetFields();
                this.selectedTradeMark = tradeMark;
                this.$set(this.tradeMarkInfo, 'tradeMarkName', tradeMark.tradeMarkName);
                this.$set(this.tradeMarkInfo, 'trademarkType', tradeMark.trademarkTypeItem.key);
                this.$set(this.tradeMarkInfo, 'businessType', tradeMark.businessTypeItem.key);
                this.$nextTick(()=>{
                    this.$set(this.tradeMarkInfo, 'serviceItem', tradeMark.serviceItem);
                })
                this.$set(this.tradeMarkInfo, 'singlePrice', tradeMark.singlePrice);
                this.$set(this.tradeMarkInfo, 'remark', tradeMark.remark);
            },
            loadCompanyList:function(){
                this.request({
                    url: "/signCloud/contractBuilder/loadCompanyList.do?defId="+this.mainInfo.contractDefId
                }).then(data => {
                    this.companyList = data;
                });
            },
            loadData:function(contractId){
                if(contractId&&contractId>10000){
                    this.request({
                        url: "/signCloud/contractBuilder/view.do?id="+contractId
                    }).then(data => {
                        this.mainInfo = data;
                        var content = this.mainInfo.content;
                        this.mainInfo.content = JSON.parse(content);
                        this.selectedTrademarks = this.mainInfo.content.selectedTrademarks;
//                        this.$nextTick(()=>{
//                            this.$set(this.mainInfo,"price",data.price);
//                        })
                    });
                }
            },
            selectInfo:function(name){
                var selectRow = {};
                this.companyList.map(item=>{
                    if(item.name == name){
                        this.$set(this.mainInfo.cSList[1],'bankName',item.bankName);
                        this.$set(this.mainInfo.cSList[1],'bankAccount',item.bankAccount);
                        this.$set(this.mainInfo.cSList[1],'orgId',item.orgId);
                        this.$set(this.mainInfo.cSList[1],'idno',item.idno);
                        this.$set(this.mainInfo.cSList[1],'email',item.email);
                        this.$set(this.mainInfo.cSList[1],'address',item.address);
                        if(this.op!='edit'){
                            this.$set(this.mainInfo.cSList[1],'contactName',item.contactName);
                            this.$set(this.mainInfo.cSList[1],'contactPhone',item.contactPhone);
                        }
                    }
                });
            },
            save:function(type){
                var vm = this;
                vm.$refs['formRef'].validate(function(valid){
                    if (valid) {
                        var cRList = [];
                        if(vm.mainInfo.cSList[0].type == "COMPANY"){
                            vm.mainInfo.cSList[0].signedType = "SEAL";
                        }else{
                            vm.mainInfo.cSList[0].signedType = "SIGNATURE";
                        }
                        var cSList = [vm.mainInfo.cSList[0],vm.mainInfo.cSList[1]];
                        //单笔
                        cRList.push({
                            price:vm.mainInfo.price,
                            title:'一次性支付',
                            idx:1
                        });
                        if(type=='submit'){
                            vm.mainInfo.status = "COMMITTED";
                        }
                        vm.mainInfo.content.selectedTrademarks = vm.selectedTrademarks;
                        var sendData =Object.assign({}, vm.mainInfo);
                        sendData.cRList = cRList;
                        sendData.cSList = cSList;
                        sendData.price = vm.mainInfo.price;
                        sendData.content = JSON.stringify(vm.mainInfo.content);
                        console.log(vm.mainInfo);
                        vm.request({
                            url: "/signCloud/contractBuilder/save.do",
                            data:sendData
                        }).then(data => {
//                            vm.$api.getHeadCount();
                            if(type=='submit'){
                                vm.$Message.info({content:"合约已提交审核，请稍等或直接联系审核人员！",duration:3});
                            }else{
                                vm.$Message.info("保存成功");
                            }
                            vm.$set(vm,"isEditable",false);
                            if(vm.isContractPerfect){
                                vm.$api.newApiContractList();
                            }else{
                                vm.$api.jump("M03","F0303","");
                            }
//                            if(data&&data.id){
//                                if(vm.op == ""){//新增合同刷新左侧菜单，筛选条件置为未提交，审核中
//                                    vm.$api.saveContract(data.id,"new")
//                                }else if(vm.op == "edit"){//修改合同局部刷新左侧菜单，
//                                    vm.$api.saveContract(data.id,"edit")
//                                }
//                            }
                        });
                    } else {
                        if(type=='submit'){
                            vm.$Message.error({content:"合约信息项录入不完整，请完善后再提交审核！",duration:3});
                        }else{
                            vm.$Message.error({content:"请完善合约填写信息后方可保存！",duration:3});
                        }
                    }
                });
            },
            review:function(){
                console.log(this.mainInfo);
            },
            addTradeMark () {
                var vm = this;
                vm.$refs['tradeMarkFormRef'].validate(function(valid){
                    if (valid) {
                        var trademarkTypeItem = null;
                        var businessTypeItem = null;
                        var selectedTrademarkName = "";
                        if(vm.tradeMarkInfo.trademarkType){
                            for(var trademarkType of vm.trademarkTypeArray){
                                if(trademarkType.key==vm.tradeMarkInfo.trademarkType){
                                    trademarkTypeItem = trademarkType;
                                }
                            }
                        }
                        if(vm.tradeMarkInfo.businessType){
                            for(var businessType of vm.businessTypeArray){
                                if(businessType.key==vm.tradeMarkInfo.businessType){
                                    businessTypeItem = businessType;
                                }
                            }
                        }
                        if(vm.tradeMarkInfo.serviceItem){
                            for(var i=0;i<vm.tradeMarkInfo.serviceItem.length;i++){
                                if(vm.tradeMarkInfo.businessType=="1"){
                                    for(var j=0;j<vm.serviceItemArray1.length;j++){
                                        if(vm.tradeMarkInfo.serviceItem[i]==vm.serviceItemArray1[j].key){
                                            selectedTrademarkName = selectedTrademarkName + vm.serviceItemArray1[j].serviceItemName1 + ",";
                                        }
                                    }
                                }
                                if(vm.tradeMarkInfo.businessType=="2"){
                                    for(var j=0;j<vm.serviceItemArray2.length;j++){
                                        if(vm.tradeMarkInfo.serviceItem[i]==vm.serviceItemArray2[j].key){
                                            selectedTrademarkName = selectedTrademarkName + vm.serviceItemArray2[j].serviceItemName2 + ",";
                                        }
                                    }
                                }
                                if(vm.tradeMarkInfo.businessType=="3"){
                                    for(var j=0;j<vm.serviceItemArray3.length;j++){
                                        if(vm.tradeMarkInfo.serviceItem[i]==vm.serviceItemArray3[j].key){
                                            selectedTrademarkName = selectedTrademarkName + vm.serviceItemArray3[j].serviceItemName3 + ",";
                                        }
                                    }
                                }
                            }
                        }
                        if(selectedTrademarkName && selectedTrademarkName.length >0){
                            selectedTrademarkName = selectedTrademarkName.substring(0,selectedTrademarkName.length-1);
                        }
                        vm.selectedTrademarks.push(
                            {
                                tradeMarkName:vm.tradeMarkInfo.tradeMarkName,
                                trademarkTypeItem:trademarkTypeItem,
                                businessTypeItem:businessTypeItem,
                                singlePrice:vm.tradeMarkInfo.singlePrice,
                                remark:vm.tradeMarkInfo.remark,
                                selectedTrademarkName:selectedTrademarkName,
                                serviceItem:vm.tradeMarkInfo.serviceItem
                            }
                        );
                        vm.calculateTotalPrice();
                        vm.clearTradeMarkInfo();
                    }
                });
            },
            clearTradeMarkInfo () {
                this.$set(this.tradeMarkInfo, 'tradeMarkName', "");
                this.$set(this.tradeMarkInfo, 'trademarkType', "01");
                this.$set(this.tradeMarkInfo, 'businessType', "1");
                this.$set(this.tradeMarkInfo, 'serviceItem', []);
                this.$set(this.tradeMarkInfo, 'singlePrice', "");
                this.$set(this.tradeMarkInfo, 'remark', "");
            },
            saveTradeMark () {
                var vm = this;
                vm.$refs['tradeMarkFormRef'].validate(function(valid){
                    if (valid) {
                        var trademarkTypeItem = null;
                        var businessTypeItem = null;
                        var selectedTrademarkName = "";
                        if(vm.tradeMarkInfo.trademarkType){
                            for(var trademarkType of vm.trademarkTypeArray){
                                if(trademarkType.key==vm.tradeMarkInfo.trademarkType){
                                    trademarkTypeItem = trademarkType;
                                }
                            }
                        }
                        if(vm.tradeMarkInfo.businessType){
                            for(var businessType of vm.businessTypeArray){
                                if(businessType.key==vm.tradeMarkInfo.businessType){
                                    businessTypeItem = businessType;
                                }
                            }
                        }
                        if(vm.tradeMarkInfo.serviceItem){
                            for(var i=0;i<vm.tradeMarkInfo.serviceItem.length;i++){
                                if(vm.tradeMarkInfo.businessType=="1"){
                                    for(var j=0;j<vm.serviceItemArray1.length;j++){
                                        if(vm.tradeMarkInfo.serviceItem[i]==vm.serviceItemArray1[j].key){
                                            selectedTrademarkName = selectedTrademarkName + vm.serviceItemArray1[j].serviceItemName1 + ",";
                                        }
                                    }
                                }
                                if(vm.tradeMarkInfo.businessType=="2"){
                                    for(var j=0;j<vm.serviceItemArray2.length;j++){
                                        if(vm.tradeMarkInfo.serviceItem[i]==vm.serviceItemArray2[j].key){
                                            selectedTrademarkName = selectedTrademarkName + vm.serviceItemArray2[j].serviceItemName2 + ",";
                                        }
                                    }
                                }
                                if(vm.tradeMarkInfo.businessType=="3"){
                                    for(var j=0;j<vm.serviceItemArray3.length;j++){
                                        if(vm.tradeMarkInfo.serviceItem[i]==vm.serviceItemArray3[j].key){
                                            selectedTrademarkName = selectedTrademarkName + vm.serviceItemArray3[j].serviceItemName3 + ",";
                                        }
                                    }
                                }
                            }
                        }
                        if(selectedTrademarkName && selectedTrademarkName.length >0){
                            selectedTrademarkName = selectedTrademarkName.substring(0,selectedTrademarkName.length-1);
                        }
                        var tempTradeMark={
                            tradeMarkName:vm.tradeMarkInfo.tradeMarkName,
                            trademarkTypeItem:trademarkTypeItem,
                            businessTypeItem:businessTypeItem,
                            singlePrice:vm.tradeMarkInfo.singlePrice,
                            remark:vm.tradeMarkInfo.remark,
                            selectedTrademarkName:selectedTrademarkName,
                            serviceItem:vm.tradeMarkInfo.serviceItem
                        };
                        let index = vm.selectedTrademarks.indexOf(vm.selectedTradeMark);
                        vm.$set(vm.selectedTrademarks, index, Object.assign(vm.selectedTradeMark, tempTradeMark));
                        vm.calculateTotalPrice();
                        this.cancelSelected();
                    }
                });
            },
            cancelTradeMark () {
                this.cancelSelected();
            },
            minusTradeMark (trademark) {
                if(this.selectedTrademarks.indexOf(trademark) > -1){
                    this.selectedTrademarks.splice(this.selectedTrademarks.indexOf(trademark),1);
                    this.$set(this,"selectedTradeMark",null);
                }
                this.calculateTotalPrice();
                this.clearTradeMarkInfo();
            },
            calculateTotalPrice () {
                this.mainInfo.content.tradeMarkTotalPrice =0;
                for(var i=0;i<this.selectedTrademarks.length;i++){
                    var selectedPrice = parseFloat(this.selectedTrademarks[i].singlePrice);
                    this.mainInfo.content.tradeMarkTotalPrice = parseFloat(this.mainInfo.content.tradeMarkTotalPrice) + selectedPrice;
                }
                var p = Number(this.mainInfo.content.tradeMarkTotalPrice);
                this.$set(this.mainInfo.content, "tradeMarkTotalPrice", Math.format(p,2));
                this.$set(this.mainInfo, "price", Math.format(p,2));
//                this.$set(this, "price", Math.format(p,2));
            }
        }
    })
</script>